<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="../api-model-create/api-model-create.html">
<link rel="import" href="../app-link/app-link.html">
<dom-module id="part-admin-articles-create">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>

    <api-model-create id="request" collection="Articles"
      response="{{article}}" on-response="on_response">
    </api-model-create>

    <div>
      <button id="button" on-click="on_click">create article</button>
    </div>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'part-admin-articles-create',

    properties: {
      article: {
        type: Object
      }
    },

    ready: function () {},

    on_click: function () {
      this.$.request.send();
    },

    on_response: function () {
      var id = this.article.id;
      var edit_url = '/admin/articles/' + id;
      page(edit_url);
    }

  });
</script>